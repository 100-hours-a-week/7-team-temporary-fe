## 10. 코드 컨벤션

### 10.1 네이밍 규칙

- 변수, 함수, 컴포넌트, props, interface는 의미가 명확한 이름을 사용한다.
- boolean 값은 `is/has/can/should` 접두어를 사용한다.
- 도메인 용어는 문서의 용어 기준을 그대로 따른다.
- 축약어는 팀 내 합의된 경우에만 사용한다.

```ts
// 권장
isLoading;
canEdit;
hasPermission;

// 지양
flag;
data;
value;
```

### 10.2 컴포넌트 및 함수 설계 기준

- 함수/컴포넌트는 단일 책임 원칙(SRP)을 따른다.
- 하나의 컴포넌트는 하나의 UI 역할만 담당한다.
- 비즈니스 로직과 UI 로직을 분리한다.
  - 판단/계산 로직 → hook 또는 model
  - 렌더링/스타일 → component
- 컴포넌트 내부에서 도메인 조건을 직접 계산하지 않는다.
- **순수 함수 원칙**
  - 동일 입력에는 동일 결과를 반환해야 한다.
  - 외부 상태를 읽거나 변경하는 부작용(side effect)을 금지한다.
  - 시간/랜덤/환경 의존 로직은 순수 함수 밖으로 분리한다.
  - 순수 함수 원칙은 계산/판단 로직 및 util 함수에 적용한다.
  - hook, effect, mutation은 본질적으로 side effect를 포함할 수 있다.

    ```ts
    // 순수 함수 (권장)
    function calculateTotal(price: number, quantity: number) {
      return price * quantity;
    }

    // 비순수 함수 (금지)
    function calculateTotalWithNow(price: number) {
      return price * new Date().getHours();
    }
    ```

- **판단 기준**
  - props 설명 없이 이해되지 않으면 분리 대상이다.
  - 조건 분기가 많아지면 hook 분리를 검토한다.

### 10.3 TypeScript 사용 규칙

- `any` 사용을 금지한다.
- 가능한 한 명시적 타입 선언을 사용한다.
- 서버 응답 타입과 화면 모델 타입을 분리한다.
- 타입 단언(`as`)은 불가피한 경우에만 사용한다.

```ts
// 권장
type HomeTaskItemModel = Pick<TaskResponse, "id" | "title">;

// 지양
const data = response as any;
```

### 10.4 Import 규칙

- 절대 경로 import를 사용한다.
- 레이어 역참조 import를 금지한다.
- 동일 레이어 간 참조는 허용하되 순환 의존성은 금지한다.
- import 순서는 다음을 따른다.
  1. external (npm 패키지)
  2. internal (프로젝트 절대 경로: `@/shared`, `@/entities`, `@/features`, `@/widgets`, `@/pages`)
  3. parent / sibling
  4. index
  5. type

```ts
import { useQuery } from "@tanstack/react-query";
import { Button } from "@/shared/ui";
import { useLogin } from "@/features/auth";
```

### 10.5 포맷팅 및 린트 기준

- 코드 포맷팅은 Prettier 기준을 따른다.
- 코드 품질 검사는 ESLint 규칙을 따른다.
- 포맷/린트 규칙은 개인 판단이 아닌 자동화 기준을 따른다.

---
