## 폼 처리 및 유효성 검증 (Forms & Validation)

- React Hook Form 사용하여 폼 상태 관리 및 유효성 검증 로직 구현
  - 각 페이지(예: `CheckoutPage`)에서 폼을 정의할 때는 `useForm()` 훅을 최상단에서 사용
  - 복잡한 폼(주소 입력, 결제 정보 입력) 등은 **별도 컴포넌트**(`AddressForm`, `PaymentForm`)로 분리하여 `useFormContext()` 또는 `Controller`를 활용
- 유효성 검증 로직
  - **클라이언트 측**:
    - React Hook Form의 `register`에 `required`, `pattern` 등 기본 옵션 사용
    - [Yup](https://github.com/jquense/yup) 또는 [Zod](https://github.com/colinhacks/zod) 같은 **스키마 검증 라이브러리**를 연동해 `resolver` 형태로 적용
    - 폼제출 시(`handleSubmit`) 폼 전역의 모든 필드에 대한 **동시 검증**이 이뤄짐
  - **서버 측**(백엔드)에서도 별도 검증 로직 존재:
    - 서버로 전송한 데이터가 유효하지 않을 경우(예: 허용되지 않은 포맷, 중복된 쿠폰 등), API 에러(4xx)로 응답
    - **프론트엔드 처리**: 이 에러를 받아서 폼 필드 혹은 전역 알림으로 노출 (예: “이미 사용된 쿠폰입니다.”)
- 실시간 유효성 검증 (입력 중 또는 focus out 시) 및 제출 시 최종 검증
  - 사용 시점: `blur` 시점 또는 `onChange` 시점 등 프로젝트 요구사항에 맞춰 조정
  - 예: “주소 필드가 비었을 때는 ‘주소를 입력해 주세요’라는 경고를 실시간 표시.”
- 백엔드 API 명세에 따른 필드별 유효성 규칙(필수 여부, 형식, 길이 등) 적용
- 오류 발생 시 해당 입력 필드 하단에 명확한 오류 메시지 표시 (디자인 가이드 준수)

### 폼 상태 관리 방식

- 로그인 폼은 `LOGIN_PAGE` 최상단 컴포넌트에서 `useForm()` 훅으로 정의한다.
- 이메일 입력 필드와 비밀번호 입력 필드는 동일한 폼 컨텍스트에 포함된다.
- 입력 컴포넌트(`EmailInput`, `PasswordInput`)는 **입력 값 및 유효성 상태를 직접 소유하지 않는다.**
- 버튼(`LoginButton`)은 폼 상태를 참조하여 활성/비활성 여부만 판단한다.

### 유효성 검사 트리거 정책

- 모든 입력 필드는 **입력 중(onChange)에는 유효성 검사를 수행하지 않는다.**
- 포커스 해제(`onBlur`) 시점에만 유효성 검사를 수행한다.
- 제출(`handleSubmit`) 시점에는 폼에 포함된 모든 필드에 대해 **최종 유효성 검사를 수행한다.**
- 유효성 검사 정책은 공통 입력 유효성 검사 규칙 **INPUT-VALIDATION-01**을 따른다.
